import json

def convert_jsonl(input_file, output_file):
    # 打开并读取输入的 JSONL 文件
    with open(input_file, 'r', encoding='utf-8') as infile:
        # 读取文件中的所有行，并解析成 JSON 对象
        lines = infile.readlines()

    # 打开输出文件，将处理后的数据写入
    with open(output_file, 'w', encoding='utf-8') as outfile:
        for line in lines:
            # 将每行数据从 JSON 格式转换为字典对象
            try:
                json_object = json.loads(line.strip())
                # 将字典对象转换为 JSON 格式并写入文件
                outfile.write(json.dumps(json_object, ensure_ascii=False) + '\n')
            except json.JSONDecodeError:
                print(f"Error decoding line: {line.strip()}")  # 如果解码出错，打印错误

# 示例用法
input_file = 'input.jsonl'  # 输入的 JSONL 文件
output_file = 'output.jsonl'  # 输出的 JSONL 文件

convert_jsonl(input_file, output_file)
